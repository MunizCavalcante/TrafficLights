 <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">

    <head>
        <title>Testing</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--Dependency-->
        <script type="text/javascript" src="http://yui.yahooapis.com/2.8.1/build/yahoo/yahoo-min.js"></script>
        <script type="text/javascript" src="http://yui.yahooapis.com/2.8.1/build/event/event-min.js"></script>
        <script type="text/javascript" src="http://yui.yahooapis.com/2.8.1/build/connection/connection-min.js"></script>
        <script type="text/javascript" src="http://yui.yahooapis.com/2.8.1/build/json/json-min.js"></script>
        <script type="text/javascript" charset="utf-8" src="http://yui.yahooapis.com/3.2.0/build/yui/yui-min.js"> </script>
        <script type="text/javascript" src="../javascript/base64.js" defer></script>
        <script type="text/javascript" src="../javascript/eXistAccess2.js" defer></script>
        <script type="text/javascript" src="../javascript/PN_Runner.js" defer></script>
        <script type="text/javascript">
        var count = 0;
        var loop = 0;
        var colors = ["green", "yellow", "red"];
        var colors2 = ["green2", "yellow2", "red2"];
        function start_TrafficLight()
        {
            

            PN_Runner_Constructor();
            stop = false;
            transitions = [];
            transitions.push("T2a");
            transitions.push("T2b");
            transitions.push("T2c");

            url = "http://localhost:8080/exist3rc1/rest/db/TrafficLights/trafficLightPN.xml";
            var argument = new Argument( "onSuccess", function() {buildTransitionList(); argument.setWait('false');}, false, true);
            getDocument(url, argument );
        }
        function TransitionObjecsAreReady()
        {
            
            

                   if ( count < transitions.length)
                   {
                        t = count;
                        enabled(transitions[t]);
                        

                        if (status == "true")
                        {
                            updateTransition();
                            document.getElementById(colors[light]).attributes.class.nodeValue = colors[light];
                        }

                        if ( status == "false")
                        {
                            document.getElementById(colors[light]).attributes.class.nodeValue = colors2[light];
                        }
                    }
                    else
                    {
                        count = -1;
                    }
                count++;

                loop++;

                if ( (loop > 3) && (loop < 8))
                {   
                    if (count < transitions.length)
                    {
                        t = count;
                    }
                    enabled(transitions[t]);
                }
            
        }
    
        
    
        function stop()
        {
            stop = true;
        }

        </script>
    </head>
    <body>
        
        <div>Testing</div>
        <p id = "demo"></p>
        <button type="button" onclick="start_TrafficLight()">Start!</button>
         <button type="button" onclick="stop()">Restart</button>
        <p id = "test"></p>
        <p id = "test2">bla</p>
        <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="8.5in" height="11in" version="1.1" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
viewBox="0 0 8500 11000"
 xmlns:xlink="http://www.w3.org/1999/xlink">
 <defs>
  <style type="text/css">
   <![CDATA[
    .str0 {stroke:#373435;stroke-width:6.94488}
    .yellow2 {fill:#fffabb}
    .fil0 {fill:#000000}
    .red2 {fill:#f37591}
    .green2 {fill:#bae176}
    .green {fill:#709b22}
    .red {fill:#FF0000}
    .yellow {fill:#FFFF00}
   ]]>
  </style>
 </defs>
 <g id="Layer_x0020_1">
  <metadata id="CorelCorpID_0Corel-Layer"/>
  <rect class="fil0 str0" x="766" y="1829" width="801" height="2403"/>
  <g id="_202653852832">
    <circle id= "green" class="green2 str0" cx="1166" cy="3846" r="294"/>
   <circle id= "yellow" class="yellow2 str0" cx="1166" cy="3030" r="294"/>
   <circle id= "red" class="red2 str0" cx="1166" cy="2214" r="294"/>
  </g>
 </g>
</svg>

    </body>
</html>
